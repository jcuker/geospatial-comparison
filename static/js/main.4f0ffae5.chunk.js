(this["webpackJsonpgeospatial-comparison"]=this["webpackJsonpgeospatial-comparison"]||[]).push([[0],{272:function(e,t,a){e.exports=a(358)},277:function(e,t,a){},352:function(e,t,a){},354:function(e,t,a){},355:function(e,t,a){},357:function(e,t,a){},358:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),i=a.n(o),s=(a(277),a(124)),c=a(44),l=(a(162),a(103)),u=a(17),p=a(18),m=a(20),d=a(19),f=a(367),h=a(368),y=a(365),g=a(155),v=a(252),w=a.n(v),b=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).toggleCollapsed=function(){n.setState({collapsed:!n.state.collapsed})},n.onSelect=function(e){e.item;var t=e.key;e.keyPath,e.selectedKeys,e.domEvent;n.setState({key:t}),t<1e3&&n.props.history.replace({pathname:"/".concat(n.props.framework,"/").concat(t)})},n.getNavItems=function(){var e=r.a.createElement(y.a.Item,{key:"1000",onClick:function(){n.props.history.push("/ol/".concat(n.state.key))}},"Goto OpenLayers"),t=r.a.createElement(y.a.Item,{key:"1001",onClick:function(){n.props.history.push("/leaflet/".concat(n.state.key))}},"Goto Leaflet"),a=r.a.createElement(y.a.Item,{key:"1002",onClick:function(){n.props.history.push("/mapbox/".concat(n.state.key))}},"Goto Mapbox");switch(n.props.framework){case"leaflet":return[e,a];case"ol":return[t,a];case"mapbox":return[t,e];default:return[t,e,a]}},n.state={collapsed:!1,key:"1",turf:!1},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=window.location.pathname.split("/"),t=e[e.length-1];this.setState({key:t}),t>=5&&t<7&&this.setState({turf:!0})}},{key:"render",value:function(){var e=this,t=this.getNavItems(),a=this.props.mapResolver(this.state.key);return r.a.createElement("div",{style:{height:"100vh",width:"100vw"}},r.a.createElement("div",{style:{position:"absolute",zIndex:999999,right:0}},r.a.createElement(g.a,{type:"primary",onClick:this.toggleCollapsed,style:{position:"absolute",top:7.5,right:this.state.collapsed?5:"12.25rem"}},r.a.createElement(this.state.collapsed?f.a:h.a)),r.a.createElement(y.a,{selectedKeys:[this.state.key],openKeys:[this.state.turf?"turf":""],mode:"inline",theme:"dark",style:{height:"100vh",width:this.state.collapsed?"0rem":"12rem"},onSelect:this.onSelect},r.a.createElement(y.a.Item,{key:"1"},"Just a Map"),r.a.createElement(y.a.Item,{key:"2"},"Drawing Shapes"),r.a.createElement(y.a.Item,{key:"3"},"Popup at Click"),r.a.createElement(y.a.Item,{key:"4"},"GeoJSON"),r.a.createElement(w.a,{key:"turf",title:"Turf",onTitleClick:function(){return e.setState({turf:!e.state.turf})}},r.a.createElement(y.a.Item,{key:"5"},"Connect the Dots"),r.a.createElement(y.a.Item,{key:"6"},"Center of States")),r.a.createElement(y.a.Item,{key:"7"},"Radar"),Object(l.a)(t))),a)}}]),a}(r.a.Component),E=Object(c.f)(b),O=a(369),j=a(366),k=a(363),L=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).map=void 0,e.rects=[],e.openInfo=function(){j.a.destroy(),e.setState({modalOpen:!0})},e.closeModal=function(t){e.setState({modalOpen:!1})},e.state={gesture:void 0,finishedRect:void 0,modalOpen:!1},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;document.title="Leaflet | Drawing Example",j.a.destroy(),j.a.info({message:"Drawing",description:"Clicking on the map will begin to draw a rectangle. Click the button in the bottom right for more information.",placement:"topLeft",duration:5});var t=window.L,a=t.map("map").setView([51.505,-.09],13);t.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'& <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(a);var n=t.marker([51.5,-.09]).addTo(a),r=t.circle([51.508,-.11],{color:"red",fillColor:"#f03",fillOpacity:.5,radius:500}).addTo(a),o=t.polygon([[51.509,-.08],[51.503,-.06],[51.51,-.047]]).addTo(a);n.bindPopup("I am a marker."),r.bindPopup("I am a circle."),o.bindPopup("I am a polygon."),this.map=a,a.on("click",(function(t){if(e.state.gesture){var a=e.state.gesture.inProgressRect.startingLatLng,n=t.latlng;e.setState({gesture:void 0,finishedRect:{startingLatLng:Object(l.a)(a),endingLatLng:[n.lat,n.lng]}})}else e.setState({gesture:{initial:t,inProgressRect:{startingLatLng:[t.latlng.lat,t.latlng.lng]}}})})),a.on("mousemove",(function(t){if(e.state.gesture&&e.state.gesture.inProgressRect&&e.state.gesture.inProgressRect.startingLatLng){var a=t.latlng;e.setState({gesture:{inProgressRect:{startingLatLng:Object(l.a)(e.state.gesture.inProgressRect.startingLatLng),endingLatLng:[a.lat,a.lng]}}})}}))}},{key:"componentWillUnmount",value:function(){j.a.destroy()}},{key:"componentDidUpdate",value:function(e,t){var a=window.L;if(this.rects.length>0&&this.rects[this.rects.length-1].temporary){var n=this.rects.pop();this.map.removeLayer(n)}if(this.state.finishedRect){var r=a.rectangle([Object(l.a)(this.state.finishedRect.startingLatLng),Object(l.a)(this.state.finishedRect.endingLatLng)],{color:"#ff7800",weight:5}).addTo(this.map);r.bindPopup("You drew me :)"),this.rects.push(r),this.setState({finishedRect:void 0})}else if(this.state.gesture&&this.state.gesture.inProgressRect.startingLatLng&&this.state.gesture.inProgressRect.endingLatLng){var o=a.rectangle([Object(l.a)(this.state.gesture.inProgressRect.startingLatLng),Object(l.a)(this.state.gesture.inProgressRect.endingLatLng)],{color:"#ff7800",weight:5}).addTo(this.map);o.temporary=!0,this.rects.push(o)}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"map"}),r.a.createElement(g.a,{type:"primary",onClick:this.openInfo,style:{position:"absolute",bottom:5,left:5,zIndex:999}},r.a.createElement(O.a)),r.a.createElement(k.a,{title:"Drawing in Leaflet",visible:this.state.modalOpen,footer:[r.a.createElement(g.a,{key:"ok",onClick:this.closeModal},"OK")]},r.a.createElement("p",null,"Leaflet does not have built-in support for a robust drawing feature. Drawing a rectangle is easy enough to do, but a full-fledged drawing system is way more complex. Click the map once to anchor one point and then click another point to finish the rectangle. See source for additional comments.")))}}]),a}(r.a.Component),x=a(16),P=a.n(x),S=a(29),C=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(S.a)(P.a.mark((function e(){var t,a,n,r,o=this;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Leaflet | GeoJson Example",t=window.L,a=t.map("map").setView([37.71859,-92.007813],4),t.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'& <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(a),e.next=6,fetch("".concat(window.location.origin,"/states.json"));case 6:return e.next=8,e.sent.json();case 8:return n=e.sent,e.next=11,fetch("".concat(window.location.origin,"/twitter.json"));case 11:return e.next=13,e.sent.json();case 13:r=e.sent,t.geoJSON(n,{onEachFeature:function(e,t){if(e.properties){var a=e.properties;o.popupElementStates(t,a)}}}).addTo(a),t.geoJSON(r,{onEachFeature:function(e,t){if(e.properties){var a=e.properties;o.popupElementTwitter(t,a)}}}).addTo(a);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"popupElementStates",value:function(e,t){e.bindPopup("Name: ".concat(t.name," id: ").concat(t.id))}},{key:"popupElementTwitter",value:function(e,t){e.bindPopup("Text: ".concat(t.text," user: ").concat(t.user))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"map"}))}}]),a}(r.a.Component),T=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){document.title="Leaflet | Popup Example";var e=window.L,t=e.map("map").setView([37.71859,-92.007813],4);e.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'& <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(t),t.on("click",(function(a){e.popup().setLatLng(a.latlng).setContent("You clicked the map at "+a.latlng.toString()).openOn(t)}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"map"}))}}]),a}(r.a.Component),_=a(370),D=a(371),M=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).L=window.L,e.radarLayers=[],e.timestamps=[],e.animationTimer=void 0,e.animationPosition=-1,e.addLayer=function(t){e.radarLayers[t]||(e.radarLayers[t]=new e.L.TileLayer("https://tilecache.rainviewer.com/v2/radar/"+t+"/256/{z}/{x}/{y}/2/1_1.png",{tileSize:256,opacity:.001,zIndex:t})),e.map.hasLayer(e.radarLayers[t])||e.map.addLayer(e.radarLayers[t])},e.changeRadarPosition=function(t,a){for(;t>=e.timestamps.length;)t-=e.timestamps.length;for(;t<0;)t+=e.timestamps.length;var n=e.timestamps[e.animationPosition],r=e.timestamps[t];e.addLayer(r),a||(e.animationPosition=t,e.radarLayers[n]&&e.radarLayers[n].setOpacity(0),e.radarLayers[r].setOpacity(100))},e.stop=function(){return void 0!==e.animationTimer&&(clearTimeout(e.animationTimer),e.animationTimer=void 0,e.setState({playing:!1}),!0)},e.play=function(){e.showFrame(e.animationPosition+1),e.animationTimer=setTimeout(e.play,500),e.setState({playing:!0})},e.showFrame=function(t){var a=t-e.animationPosition>0?1:-1;e.changeRadarPosition(t),e.changeRadarPosition(t+a,!0)},e.state={playing:!1},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(S.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Leaflet | Radar Example",j.a.destroy(),j.a.info({message:"Radar",description:"Press the play button in the lower-left corner to start the radar animation",placement:"topLeft",duration:5}),this.map=this.L.map("map").setView([37.71859,-92.007813],5),this.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'& <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.map),e.next=7,fetch("https://api.rainviewer.com/public/maps.json");case 7:return e.next=9,e.sent.json();case 9:this.timestamps=e.sent;case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){j.a.destroy()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"map"}),r.a.createElement(g.a,{type:"primary",style:{position:"absolute",bottom:5,left:5,height:35,zIndex:9999,width:45},onClick:function(){return e.state.playing?e.stop():e.play()}},this.state.playing?r.a.createElement(_.a,null):r.a.createElement(D.a,null)))}}]),a}(r.a.Component),R=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){document.title="Leaflet | Simple Example";var e=window.L,t=e.map("map").setView([0,0],2);e.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'& <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(t)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"map"}))}}]),a}(r.a.Component),I=a(48),F=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(S.a)(P.a.mark((function e(){var t,a,n,r,o,i,s=this;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Leaflet | Turf Center",t=window.L,a=t.map("map").setView([37.71859,-92.007813],4),t.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'& <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(a),e.next=6,fetch("".concat(window.location.origin,"/states.json"));case 6:return e.next=8,e.sent.json();case 8:n=e.sent,r=I.featureCollection(n.features),o=[],r.features.forEach((function(e){var t=I.center(e);t.properties={name:e.properties.name||""},o.push(t)})),t.geoJSON(n,{onEachFeature:function(e,t){if(e.properties){var a=e.properties;s.popupElementStates(t,a)}}}).addTo(a),i=I.featureCollection(o),t.geoJSON(i,{onEachFeature:function(e,t){if(e.properties){var a=e.properties;s.popupElementCenter(t,a)}}}).addTo(a);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"popupElementStates",value:function(e,t){e.bindPopup("Name: ".concat(t.name," id: ").concat(t.id))}},{key:"popupElementCenter",value:function(e,t){e.bindPopup("Center of ".concat(t.name))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"map"}))}}]),a}(r.a.Component),N=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(S.a)(P.a.mark((function e(){var t,a,n,r,o,i,s=this;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Leaflet | Turf LineString",t=window.L,a=t.map("map").setView([37.71859,-92.007813],4),t.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'& <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(a),e.next=6,fetch("".concat(window.location.origin,"/twitter.json"));case 6:return e.next=8,e.sent.json();case 8:n=e.sent,r=I.featureCollection(n.features),o=[],r.features.forEach((function(e){o.push(e.geometry.coordinates)})),i=I.lineString(o),t.geoJSON(n,{onEachFeature:function(e,t){if(e.properties){var a=e.properties;s.popupElementTwitter(t,a)}}}).addTo(a),t.geoJSON(i).addTo(a);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"popupElementTwitter",value:function(e,t){e.bindPopup("Text: ".concat(t.text," user: ").concat(t.user))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"map"}))}}]),a}(r.a.Component);a(352);function A(){return r.a.createElement(E,{framework:"leaflet",mapResolver:function(e){switch(e){case"1":return r.a.createElement(R,null);case"2":return r.a.createElement(L,null);case"3":return r.a.createElement(T,null);case"4":return r.a.createElement(C,null);case"5":return r.a.createElement(N,null);case"6":return r.a.createElement(F,null);case"7":return r.a.createElement(M,null);default:return r.a.createElement(R,null)}}})}var z=a(374),B=a(375),K=a(56),G=a(142),U=a(87),W=a(67),H=a(199),V=a(361),J=a(60),X=a(140),Y=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).draw=void 0,e.map=void 0,e.source=void 0,e.vector=void 0,e.raster=void 0,e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){document.title="OpenLayers | Drawing Example",j.a.destroy(),j.a.info({message:"Drawing Instructions",description:"Choose the shape type from the bottom-right corner to draw arbitrary shapes onto the map.",placement:"topLeft",duration:10}),this.raster=new U.a({source:new V.a}),this.source=new J.a({wrapX:!1}),this.vector=new W.a({source:this.source}),this.map=new H.a({layers:[this.raster,this.vector],target:"map",view:new X.a({center:[-11e6,46e5],zoom:4})})}},{key:"componentWillUnmount",value:function(){j.a.destroy()}},{key:"addInteraction",value:function(e){var t,a=e.target.value;"None"!==a&&("Square"===a?(a="Circle",t=Object(G.b)(4)):"Box"===a?(a="Circle",t=Object(G.a)()):"Star"===a&&(a="Circle",t=function(e,t){for(var a=e[0],n=e[1],r=a[0]-n[0],o=a[1]-n[1],i=Math.sqrt(r*r+o*o),s=Math.atan2(o,r),c=[],l=0;l<12;++l){var u=s+2*l*Math.PI/12,p=l%2===0?1:.5,m=i*p*Math.cos(u),d=i*p*Math.sin(u);c.push([a[0]+m,a[1]+d])}return c.push(c[0].slice()),t?t.setCoordinates([c]):t=new K.a([c]),t}),this.draw=new G.c({source:this.source,type:a,geometryFunction:t}),this.map.addInteraction(this.draw))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"map"}),r.a.createElement("form",{style:{position:"absolute",bottom:0,left:5}},r.a.createElement("label",null,"Shape type \xa0"),r.a.createElement("select",{id:"type",onChange:function(t){e.map.removeInteraction(e.draw),e.addInteraction(t)}},r.a.createElement("option",{value:"None"},"None"),r.a.createElement("option",{value:"Circle"},"Circle"),r.a.createElement("option",{value:"Square"},"Square"),r.a.createElement("option",{value:"Box"},"Box"),r.a.createElement("option",{value:"Star"},"Star"))))}}]),a}(r.a.Component),q=a(75),Q=(a(246),a(110)),Z=a(129),$=a(83),ee=a(96),te=a(94),ae=a(229),ne=[0,153,255,1],re=[0,255,64,1],oe=[242,13,13,1],ie=[0,0,0,1],se=[255,255,255,1],ce=function(){return[new te.c({image:new Z.a({radius:6,fill:new $.a({color:ne}),stroke:new ee.a({color:se,width:1.5})}),zIndex:Number.MAX_SAFE_INTEGER})]},le=function(e){var t=function(e){return(e=e.toLowerCase()).includes("positive")?re:e.includes("neutral")?ne:e.includes("negative")?oe:ie}(e.getProperties().sentiment||"");return[new te.c({image:new Z.a({radius:6,fill:new $.a({color:t}),stroke:new ee.a({color:se,width:1.5})}),zIndex:Number.MAX_SAFE_INTEGER})]};var ue=function(e){var t=e.getProperties().selected?"#FF6347":"#7FDBFF33",a=e.getProperties().name;return[new te.c({fill:new $.a({color:t}),stroke:new ee.a({color:"#0074D9",width:2}),text:new ae.a({text:a})})]};function pe(e){var t=e.get("features"),a=t.length;if(0!==a)return a>1?new te.c({image:new Z.a({radius:10,stroke:new ee.a({color:"#fff"}),fill:new $.a({color:"#3399CC"})}),text:new ae.a({text:a.toString(),fill:new $.a({color:"#fff"})}),zIndex:Number.MAX_SAFE_INTEGER}):le(t[0])}function me(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function de(e){return!(!e||!e.get("features"))&&e.get("features").length>=1}var fe=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(S.a)(P.a.mark((function e(){var t,a,n,r,o,i,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.title="OpenLayers | GeoJson Example",t=document.getElementById("popup"),a=document.getElementById("popup-content"),n=document.getElementById("popup-closer"),r=new Q.a({element:t,autoPan:!0,autoPanAnimation:{duration:250}}),n.onclick=function(){return r.setPosition(void 0),n.blur(),!1},e.prev=6,o=new W.a({source:new J.a({format:new q.a,url:"".concat(window.location.origin,"/twitter.json")}),style:ce}),i=new W.a({source:new J.a({format:new q.a,url:"".concat(window.location.origin,"/states.json")}),style:ue}),(s=new H.a({layers:[new U.a({source:new V.a}),o,i],target:"map",overlays:[r],view:new X.a({center:[-11e6,46e5],zoom:4})})).on("singleclick",(function(e){var t=[];if(s.forEachFeatureAtPixel(e.pixel,(function(e,a){t.push(e)})),t.length>0){for(var n=e.coordinate,o="",i=0;i<t.length;i++){var c=t[i].getProperties(),l=void 0;l=c.name?c.name:c.text,o+="Feature ".concat(i,": ").concat(l,"<br/>")}a.innerHTML=o,r.setPosition(n)}})),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(6),console.log(e.t0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{id:"map"}),";",r.a.createElement("div",{id:"popup",className:"ol-popup"},r.a.createElement("div",{id:"popup-closer",className:"ol-popup-closer"}),r.a.createElement("div",{id:"popup-content"})))}}]),a}(r.a.Component),he=a(109),ye=a(4),ge=a(40),ve=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){document.title="OpenLayers | Popup Example";var e=document.getElementById("popup"),t=document.getElementById("popup-content"),a=document.getElementById("popup-closer"),n=new Q.a({element:e,autoPan:!0,autoPanAnimation:{duration:250}});a.onclick=function(){return n.setPosition(void 0),a.blur(),!1},new H.a({target:"map",layers:[new U.a({source:new he.a({url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"})})],overlays:[n],view:new X.a({center:[0,0],zoom:2})}).on("singleclick",(function(e){var a=e.coordinate,r=Object(ge.f)(ye.l(a));t.innerHTML="<p>You clicked here:</p><code>"+r+"</code>",n.setPosition(a)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{id:"map"}),r.a.createElement("div",{id:"popup",className:"ol-popup"},r.a.createElement("div",{id:"popup-closer",className:"ol-popup-closer"}),r.a.createElement("div",{id:"popup-content"})))}}]),a}(r.a.Component),we=a(257),be=a(108),Ee=a(364),Oe=a(372),je=a(373),ke=a(254),Le=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).map=void 0,e.radarLayers=[],e.timestamps=[],e.jsDates=[],e.animationTimer=void 0,e.animationPosition=-1,e.tweetsByTime=[],e.tweetClusterLayer=void 0,e.twitterLayer=void 0,e.addLayer=function(t){if(!e.radarLayers[t]){var a="https://tilecache.rainviewer.com/v2/radar/"+t+"/256/{z}/{x}/{y}/2/1_1.png",n=new U.a({source:new he.a({url:a,tileSize:256}),zIndex:t,opacity:.001});n.setProperties({url:a}),e.radarLayers[t]=n}(function(e,t){var a=t.getProperties(),n=e.getLayers(),r=!1;return n.forEach((function(e){var t=e.getProperties();t&&a&&t.url===a.url&&(r=!0)})),r})(e.map,e.radarLayers[t])||e.map.addLayer(e.radarLayers[t]);var r=e.tweetsByTime[t];r&&r.length>0&&(e.tweetClusterLayer.getSource().getSource().addFeatures(r),e.twitterLayer.getSource().addFeatures(r))},e.changeRadarPosition=function(t,a){for(;t>=e.timestamps.length;)t-=e.timestamps.length;for(;t<0;)t+=e.timestamps.length;var n=e.timestamps[e.animationPosition],r=e.timestamps[t];e.twitterLayer.getSource().clear(),e.tweetClusterLayer.getSource().getSource().clear(),e.addLayer(r),a||(e.animationPosition=t,e.state.showRadar&&(e.radarLayers[n]&&e.radarLayers[n].setOpacity(0),e.radarLayers[r].setOpacity(100)))},e.stop=function(){return void 0!==e.animationTimer&&(clearTimeout(e.animationTimer),e.animationTimer=void 0,e.setState({playing:!1}),!0)},e.play=function(){e.showFrame(e.animationPosition+1),e.animationTimer=setTimeout(e.play,500),e.setState({playing:!0})},e.showFrame=function(t){var a=t-e.animationPosition>0?1:-1;e.changeRadarPosition(t),e.changeRadarPosition(t+a,!0)},e.stepPosition=function(t){if(e.state.loaded&&!e.state.playing){var a="l"===t?e.animationPosition-1:e.animationPosition+1;e.showFrame(a),e.forceUpdate()}},e.onSliderChange=function(t){e.setState({inputValue:t}),e.tweetClusterLayer.getSource().setDistance(t)},e.state={playing:!1,loaded:!1,showTwitter:!1,showRadar:!0,inputValue:60},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(S.a)(P.a.mark((function e(){var t,a,n,r,o=this;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.title="OpenLayers | Radar Example",t=document.getElementById("popup"),a=document.getElementById("popup-content"),n=document.getElementById("popup-closer"),r=this.createOverlay(t,a,n),this.loadData(),this.map=new H.a({target:"map",layers:[new U.a({source:new V.a})],view:new X.a({center:[-11e6,46e5],zoom:5}),overlays:[r]}),this.map.on("singleclick",(function(e){var t=[];if(o.map.forEachFeatureAtPixel(e.pixel,(function(e,a){if(de(e)){var n,r=e.get("features"),o=Object(be.a)(r);try{for(o.s();!(n=o.n()).done;){var i=n.value;i.getProperties().twitter&&t.push(i)}}catch(s){o.e(s)}finally{o.f()}}else{e.getProperties().twitter&&t.push(e)}})),t.length>0){for(var i=e.coordinate,s="",c=0;c<t.length;c++){var l=t[c].getProperties(),u="User <em><b>".concat(l.user,'</b></em> tweeted "').concat(l.text,'" near ').concat(l.place,".<br/>");u+="The tweet seems to have a <b>".concat(l.sentiment,"</b> sentiment."),s+="Feature ".concat(c+1,":<br/> ").concat(u,"<br/>"),c<t.length-1&&(s+="<br/>")}a.innerHTML=s,r.setPosition(i)}else r.setPosition(void 0),n.blur()}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createOverlay",value:function(e,t,a){var n=new Q.a({element:e,autoPan:!0,autoPanAnimation:{duration:250}});return a.onclick=function(){return n.setPosition(void 0),a.blur(),!1},n}},{key:"loadData",value:function(){var e=Object(S.a)(P.a.mark((function e(){var t,a,n,r=this;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.rainviewer.com/public/maps.json");case 2:return e.next=4,e.sent.json();case 4:if(this.timestamps=e.sent,this.jsDates=this.timestamps.map((function(e){return new Date(1e3*e)})),t=this.props.remote?this.props.remote:window.location.origin,j.a.destroy(),j.a.info({message:"Please Wait",description:"Loading data...",placement:"topLeft",duration:0}),e.prev=9,!this.props.remote){e.next=20;break}return 5e4,n="".concat(t,"/streaming/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=streaming%3Astl-twitter&TIME=PT3H/PRESENT&width=768&height=330&srs=EPSG%3A4326&maxFeatures=").concat(5e4,"&outputFormat=application%2Fjson"),e.next=15,fetch(n);case 15:return e.next=17,e.sent.json();case 17:a=e.sent,e.next=25;break;case 20:return e.next=22,fetch("".concat(t,"/enriched_twitter.json"));case 22:return e.next=24,e.sent.json();case 24:a=e.sent;case 25:e.next=32;break;case 27:return e.prev=27,e.t0=e.catch(9),j.a.destroy(),j.a.error({placement:"topLeft",description:"Unable to get data. If not already, try to use local data if problem persists."}),e.abrupt("return");case 32:a.features.map((function(e){var t=e.properties;if(t.twitter=!0,r.props.remote){var a=new Date(t.dtg).getTime()/1e3,n=r.findMatchingTimestamp(a);t.dtg=n}else{var o=me(0,r.timestamps.length-1);t.dtg=r.jsDates[o].getTime()/1e3}return e.properties=Object(we.a)({},t),e})),(new q.a).readFeatures(a).map((function(e){var t=e.getProperties().dtg;return r.tweetsByTime[t]||(r.tweetsByTime[t]=[]),r.tweetsByTime[t].push(e),e.getGeometry().transform("EPSG:4326","EPSG:3857"),e})),this.tweetClusterLayer=new W.a({source:new ke.a({distance:this.state.inputValue,source:new J.a({format:new q.a})}),style:pe,zIndex:Number.MAX_SAFE_INTEGER}),this.twitterLayer=new W.a({source:new J.a({format:new q.a}),style:le,zIndex:Number.MAX_SAFE_INTEGER}),this.map.addLayer(this.tweetClusterLayer),this.showFrame(this.animationPosition),this.setState({loaded:!0}),j.a.destroy(),j.a.success({message:"Success",description:"Loaded ".concat(a.features.length," tweets onto the map!"),duration:10,placement:"topLeft"}),j.a.info({message:"Radar",description:"Press the play button in the lower-left corner to start the radar animation.\n You can page through each frame using the arrows and change the radius of the clutering algorithm with the slider.",placement:"topLeft",duration:12});case 43:case"end":return e.stop()}}),e,this,[[9,27]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){j.a.destroy()}},{key:"componentDidUpdate",value:function(e,t,a){t.showTwitter!==this.state.showTwitter&&(this.twitterLayer.setVisible(!this.twitterLayer.getVisible()),this.tweetClusterLayer.setVisible(!this.tweetClusterLayer.getVisible())),t.showRadar!==this.state.showRadar&&(this.state.showRadar?this.radarLayers[this.timestamps[this.animationPosition]].setOpacity(100):this.radarLayers[this.timestamps[this.animationPosition]].setOpacity(0))}},{key:"getTimeDisplay",value:function(){if(0===this.jsDates.length)return(new Date).toLocaleString("en-us");var e=(-1===this.animationPosition?this.jsDates[0]:this.jsDates[this.animationPosition]).toLocaleString("en-us");return r.a.createElement("p",{style:{fontSize:12,textAlign:"center",alignSelf:"center",justifySelf:"center",margin:0,color:"black"}},e)}},{key:"findMatchingTimestamp",value:function(e){for(var t=0,a=1;a<this.timestamps.length-1;){if(e>=this.timestamps[t]&&e<this.timestamps[a])return this.timestamps[t];t++,a++}var n=me(0,this.timestamps.length-1);return this.jsDates[n].getTime()/1e3}},{key:"render",value:function(){var e=this,t=this.getTimeDisplay();return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{id:"map"}),r.a.createElement("div",{id:"popup",className:"ol-popup"},r.a.createElement("div",{id:"popup-closer",className:"ol-popup-closer"}),r.a.createElement("div",{id:"popup-content"})),r.a.createElement(g.a,{type:"primary",onClick:function(){return e.setState({showTwitter:!e.state.showTwitter})},style:{position:"absolute",bottom:85,left:5,height:35,width:125}},"Toggle Tweets"),r.a.createElement(g.a,{type:"primary",onClick:function(){return e.setState({showRadar:!e.state.showRadar})},style:{position:"absolute",bottom:125,left:5,width:125}},"Toggle Radar"),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",position:"absolute",bottom:5,left:5,height:35,width:300,zIndex:9999,alignItems:"center",justifyContent:"space-between"}},r.a.createElement(g.a,{type:"primary",style:{width:45},onClick:function(){return e.state.playing?e.stop():e.play()}},this.state.playing?r.a.createElement(_.a,null):r.a.createElement(D.a,null)),r.a.createElement("div",{style:{position:"absolute",paddingLeft:5,left:0,bottom:40,display:"flex",flexDirection:"row",textAlign:"center",alignContent:"center",alignItems:"center",background:"white",width:300,justifyContent:"space-between",borderRadius:"3px"}},r.a.createElement("p",{style:{margin:0}},"Grouping Distance"),r.a.createElement(Ee.a,{min:0,max:400,step:20,style:{width:75,flex:2},value:this.state.inputValue,onChange:this.onSliderChange})),r.a.createElement("div",{style:{display:"flex",marginLeft:15,justifyContent:"center",alignItems:"center",background:"white"}},r.a.createElement(g.a,{type:"primary",style:{width:25,marginRight:5,display:"flex",alignItems:"center",justifyContent:"center"},onClick:function(){return e.stepPosition("l")}},r.a.createElement(Oe.a,null)),t,r.a.createElement(g.a,{type:"primary",style:{width:25,marginLeft:5,display:"flex",alignItems:"center",justifyContent:"center"},onClick:function(){return e.stepPosition("r")}},r.a.createElement(je.a,null)))))}}]),a}(r.a.Component),xe=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){document.title="OpenLayers | Simple Example",new H.a({target:"map",layers:[new U.a({source:new he.a({url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"})})],view:new X.a({center:[0,0],zoom:2})})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"map"}))}}]),a}(r.a.Component),Pe=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(S.a)(P.a.mark((function e(){var t,a,n,r,o,i,s,c,l,u,p,m,d,f,h,y,g,v,w;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="OpenLayers | Turf Center",t=document.getElementById("popup"),a=document.getElementById("popup-content"),n=document.getElementById("popup-closer"),r=new Q.a({element:t,autoPan:!0,autoPanAnimation:{duration:250}}),n.onclick=function(){return r.setPosition(void 0),n.blur(),!1},e.next=8,fetch("".concat(window.location.origin,"/states.json"));case 8:return o=e.sent,e.next=11,o.json();case 11:i=e.sent,s=new J.a,c=new q.a,(l=c.readFeatures(i)).map((function(e){return e.getGeometry().transform("EPSG:4326","EPSG:3857")})),u=Object(be.a)(i.features);try{for(u.s();!(p=u.n()).done;)m=p.value,d=I.multiPolygon(m.geometry.coordinates),f=I.center(d),(h=c.readFeature(f)).setProperties({name:"Center of "+m.properties.name}),s.addFeature(h)}catch(b){u.e(b)}finally{u.f()}s.getFeatures().forEach((function(e){e.getGeometry().transform("EPSG:4326","EPSG:3857")})),y=new W.a({source:s}),g=new U.a({source:new V.a}),v=new W.a({source:new J.a({format:new q.a,features:l}),style:ue}),(w=new H.a({layers:[g,y,v],target:document.getElementById("map"),view:new X.a({center:Object(ye.d)([-90.81070553065938,40.716527262756514]),zoom:4}),overlays:[r]})).on("singleclick",(function(e){var t=[];if(w.forEachFeatureAtPixel(e.pixel,(function(e,a){t.push(e)})),t.length>0){for(var n=e.coordinate,o="",i=0;i<t.length;i++){var s=t[i].getProperties(),c=void 0;c=s.name?s.name:s.text,o+="Feature ".concat(i,": ").concat(c,"<br />")}a.innerHTML=o,r.setPosition(n)}}));case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{id:"map"}),r.a.createElement("div",{id:"popup",className:"ol-popup"},r.a.createElement("div",{id:"popup-closer",className:"ol-popup-closer"}),r.a.createElement("div",{id:"popup-content"})))}}]),a}(r.a.Component),Se=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(S.a)(P.a.mark((function e(){var t,a,n,r,o,i,s,c,l,u,p,m,d,f;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="OpenLayers | Turf LineString",e.next=3,fetch("".concat(window.location.origin,"/twitter.json"));case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,n=new J.a,r=new q.a,(o=r.readFeatures(a)).map((function(e){return e.getGeometry().transform("EPSG:4326","EPSG:3857")})),i=[],s=Object(be.a)(o);try{for(s.s();!(c=s.n()).done;)l=c.value,i.push(l.getGeometry().flatCoordinates)}catch(h){s.e(h)}finally{s.f()}u=I.lineString(i),p=r.readFeature(u),n.addFeature(p),m=new W.a({source:n}),d=new U.a({source:new V.a}),f=new W.a({source:new J.a({format:new q.a,features:o}),style:ce}),new H.a({layers:[d,m,f],target:document.getElementById("map"),view:new X.a({center:Object(ye.d)([-90.81070553065938,40.716527262756514]),zoom:4})});case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"map"}))}}]),a}(r.a.Component),Ce=(a(354),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).toggleRemote=function(){e.setState({remote:!e.state.remote})},e.mapResolver=function(t){var a="".concat(String(e.state.remote),"-").concat(t);switch(t){case"1":return r.a.createElement(xe,null);case"2":return r.a.createElement(Y,null);case"3":return r.a.createElement(ve,null);case"4":return r.a.createElement(fe,null);case"5":return r.a.createElement(Se,null);case"6":return r.a.createElement(Pe,null);case"7":var n=r.a.createElement(g.a,{type:"primary",onClick:e.toggleRemote,style:{position:"absolute",top:45,right:e.state.collapsed?5:"12.25rem"}},r.a.createElement(e.state.remote?z.a:B.a));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Le,{key:a,remote:e.state.remote?e.state.remoteUrl:void 0}),n);default:return r.a.createElement(xe,null)}},e.state={remote:!1,remoteUrl:""},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(S.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(window.location.origin,"/env.json"));case 2:return e.next=4,e.sent.json();case 4:t=e.sent,this.setState({remoteUrl:t.geoserverUrl});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(E,{framework:"ol",mapResolver:this.mapResolver})}}]),a}(r.a.Component)),Te=a(362);a(355);function _e(){return r.a.createElement("div",{className:"landing-page"},r.a.createElement(s.b,{to:"/leaflet/1",id:"leaflet",className:"framework"},r.a.createElement("img",{src:"https://leafletjs.com/docs/images/logo.png",alt:"to leaflet"})),r.a.createElement(Te.a,{className:"divider"}),r.a.createElement(s.b,{to:"/ol/1",id:"ol",className:"framework"},r.a.createElement("img",{src:"https://financesonline.com/uploads/2019/09/OpenLayers-logo1.png",alt:"to openlayers"})),r.a.createElement(Te.a,{className:"divider"}),r.a.createElement(s.b,{to:"/mapbox/1",id:"mapbox",className:"framework"},r.a.createElement("img",{src:"https://logodix.com/logo/1863638.png",alt:"to mapbox"})))}var De=a(27),Me=(a(356),a(255)),Re=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){document.title="Mapbox | Drawing Example",j.a.destroy(),j.a.info({message:"Drawing",description:"Choose a drawing capability from the toolbar below the zoom controls in the top left of the screen!",placement:"topLeft",duration:5}),De.accessToken=Object({NODE_ENV:"production",PUBLIC_URL:"/geospatial-comparison",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MAPBOX_API_KEY;var e=new De.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[-90,40],zoom:3});e.addControl(new De.NavigationControl,"top-left"),e.addControl(new Me,"top-left")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"map"}))}}]),a}(r.a.Component),Ie=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(S.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.title="Mapbox | GeoJson Example",De.accessToken=Object({NODE_ENV:"production",PUBLIC_URL:"/geospatial-comparison",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MAPBOX_API_KEY,(t=new De.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[-90,40],zoom:3})).addControl(new De.NavigationControl,"top-left"),t.on("load",Object(S.a)(P.a.mark((function e(){var a,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(window.location.origin,"/states.json"));case 2:return e.next=4,e.sent.json();case 4:return a=e.sent,e.next=7,fetch("".concat(window.location.origin,"/twitter.json"));case 7:return e.next=9,e.sent.json();case 9:n=e.sent,t.addSource("states",{type:"geojson",data:a}),t.addSource("twitter",{type:"geojson",data:n}),t.addLayer({id:"states",source:"states",type:"fill",paint:{"fill-color":"#03a9f4","fill-opacity":.4}}),t.addLayer({id:"twitter",source:"twitter",type:"symbol",layout:{"icon-image":["coalesce",["image",["concat",["get","icon"],"-15"]],["image","marker-15"]]}}),t.on("click",(function(e){var a=t.queryRenderedFeatures(e.point);if(a&&!(a.length<=0)){for(var n="",r=0;r<a.length;r++){var o=a[r].properties;if(o.name)n+="Feature ".concat(r,": ").concat(o.name,"<br/>");else if(o.text)n+="Feature ".concat(r,": ").concat(o.user,' tweeted "').concat(o.text,'"</br>');else{var i=Object.keys(o).length>0?JSON.stringify(o):a[r].layer.id||"Unknown Layer";n+="Feature ".concat(r,": ").concat(i,"<br/>")}}var s=e.lngLat;(new De.Popup).setLngLat(s).setHTML("<p>".concat(n,"</p>")).addTo(t)}})),t.on("mouseenter","states",(function(){t.getCanvas().style.cursor="pointer"})),t.on("mouseleave","states",(function(){t.getCanvas().style.cursor=""})),t.on("mouseenter","twitter",(function(){t.getCanvas().style.cursor="pointer"})),t.on("mouseleave","twitter",(function(){t.getCanvas().style.cursor=""}));case 19:case"end":return e.stop()}}),e)}))));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"map"}))}}]),a}(r.a.Component),Fe=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){document.title="Mapbox | Popup Example",De.accessToken=Object({NODE_ENV:"production",PUBLIC_URL:"/geospatial-comparison",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MAPBOX_API_KEY;var e=new De.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[-90,40],zoom:3});e.addControl(new De.NavigationControl,"top-left"),e.on("click",(function(t){var a=t.lngLat,n="<p>You clicked at ".concat(JSON.stringify(a),"</p>");(new De.Popup).setLngLat(a).setHTML(n).addTo(e)}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"map"}))}}]),a}(r.a.Component),Ne=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).map=void 0,e.radarObjects=[],e.timestamps=[],e.animationTimer=void 0,e.animationPosition=-1,e.addLayer=function(t){var a=e.radarObjects[t];if(e.map.getLayer(a.layer.id))e.map.setLayoutProperty(a.layer.id,"visibility","visible");else{var n=Object.keys(a.source).find((function(e){return e.includes(t)}));e.map.addSource(n,a.source[n]),e.map.addLayer(a.layer)}},e.changeRadarPosition=function(t,a){for(;t>=e.timestamps.length;)t-=e.timestamps.length;for(;t<0;)t+=e.timestamps.length;var n=e.timestamps[e.animationPosition],r=e.timestamps[t];if(e.addLayer(r),!a&&(e.animationPosition=t,n)){var o=e.radarObjects[n],i=e.map.getLayer(o.layer.id);i&&e.map.setLayoutProperty(i.id,"visibility","none")}},e.stop=function(){return void 0!==e.animationTimer&&(clearTimeout(e.animationTimer),e.animationTimer=void 0,e.setState({playing:!1}),!0)},e.play=function(){e.showFrame(e.animationPosition+1),e.animationTimer=setTimeout(e.play,500),e.setState({playing:!0})},e.showFrame=function(t){var a=t-e.animationPosition>0?1:-1;e.changeRadarPosition(t),e.changeRadarPosition(t+a,!0)},e.state={playing:!1},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(S.a)(P.a.mark((function e(){var t,a,n,r,o,i,s,c,l;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Mapbox | Radar Example",j.a.destroy(),j.a.info({message:"Radar",description:"Press the play button in the lower-left corner to start the radar animation",placement:"topLeft",duration:5}),De.accessToken=Object({NODE_ENV:"production",PUBLIC_URL:"/geospatial-comparison",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MAPBOX_API_KEY,e.next=6,fetch("https://api.rainviewer.com/public/maps.json");case 6:return e.next=8,e.sent.json();case 8:this.timestamps=e.sent,t=[],a=[],n=Object(be.a)(this.timestamps);try{for(n.s();!(r=n.n()).done;)o=r.value,i="https://tilecache.rainviewer.com/v2/radar/".concat(o,"/256/{z}/{x}/{y}/2/1_1.png"),s="radar-src-".concat(o),(c={})[s]={type:"raster",tiles:[i],tileSize:256},l={id:"radar-layer-".concat(o),type:"raster",source:s,minzoom:0,maxzoom:22,layout:{visibility:"visible"}},t.push(i),a.push(c),this.radarObjects[o]={source:c,layer:l}}catch(u){n.e(u)}finally{n.f()}this.map=new De.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[-74.5,40],zoom:2}),this.map.addControl(new De.NavigationControl,"top-left");case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){j.a.destroy()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"map"}),r.a.createElement(g.a,{type:"primary",style:{position:"absolute",bottom:5,left:5,height:35,zIndex:9999,width:45},onClick:function(){return e.state.playing?e.stop():e.play()}},this.state.playing?r.a.createElement(_.a,null):r.a.createElement(D.a,null)))}}]),a}(r.a.Component),Ae=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).map=void 0,e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){document.title="Mapbox | Simple Example",De.accessToken=Object({NODE_ENV:"production",PUBLIC_URL:"/geospatial-comparison",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MAPBOX_API_KEY,this.map=new De.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[0,0],zoom:1}),this.map.addControl(new De.NavigationControl,"top-left")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"map"}))}}]),a}(r.a.Component),ze=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(S.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.title="Mapbox | GeoJson Example",De.accessToken=Object({NODE_ENV:"production",PUBLIC_URL:"/geospatial-comparison",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MAPBOX_API_KEY,(t=new De.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[-90,40],zoom:3})).addControl(new De.NavigationControl,"top-left"),t.on("load",Object(S.a)(P.a.mark((function e(){var a,n,r,o;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(window.location.origin,"/states.json"));case 2:return e.next=4,e.sent.json();case 4:a=e.sent,n=I.featureCollection(a.features),r=[],n.features.forEach((function(e){var t=I.center(e);t.properties={name:"".concat(e.properties.name,"'s center")||!1},r.push(t)})),o=I.featureCollection(r),t.addSource("states",{type:"geojson",data:a}),t.addSource("turf",{type:"geojson",data:o}),t.addLayer({id:"states",source:"states",type:"fill",paint:{"fill-color":"#03a9f4","fill-opacity":.4}}),t.addLayer({id:"turf",source:"turf",type:"symbol",layout:{"icon-image":["coalesce",["image",["concat",["get","icon"],"-15"]],["image","marker-15"]]}}),t.on("click",(function(e){var a=t.queryRenderedFeatures(e.point);if(a&&!(a.length<=0)){for(var n="",r=0;r<a.length;r++){var o=a[r].properties;if(o.name)n+="Feature ".concat(r,": ").concat(o.name,"<br/>");else if(o.text)n+="Feature ".concat(r,": ").concat(o.user,' tweeted "').concat(o.text,'"</br>');else{var i=Object.keys(o).length>0?JSON.stringify(o):a[r].layer.id||"Unknown Layer";n+="Feature ".concat(r,": ").concat(i,"<br/>")}}var s=e.lngLat;(new De.Popup).setLngLat(s).setHTML("<p>".concat(n,"</p>")).addTo(t)}})),t.on("mouseenter","states",(function(){t.getCanvas().style.cursor="pointer"})),t.on("mouseleave","states",(function(){t.getCanvas().style.cursor=""}));case 16:case"end":return e.stop()}}),e)}))));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"map"}))}}]),a}(r.a.Component),Be=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(S.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.title="Mapbox | GeoJson Example",De.accessToken=Object({NODE_ENV:"production",PUBLIC_URL:"/geospatial-comparison",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MAPBOX_API_KEY,(t=new De.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[-90,40],zoom:3})).addControl(new De.NavigationControl,"top-left"),t.on("load",Object(S.a)(P.a.mark((function e(){var a,n,r,o;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(window.location.origin,"/twitter.json"));case 2:return e.next=4,e.sent.json();case 4:a=e.sent,n=I.featureCollection(a.features),r=[],n.features.forEach((function(e){r.push(e.geometry.coordinates)})),o=I.lineString(r),t.addSource("twitter",{type:"geojson",data:a}),t.addSource("turf",{type:"geojson",data:o}),t.addLayer({id:"twitter",source:"twitter",type:"symbol",layout:{"icon-image":["coalesce",["image",["concat",["get","icon"],"-15"]],["image","marker-15"]]}}),t.addLayer({id:"turf",source:"turf",type:"line"}),t.on("mouseenter","twitter",(function(){t.getCanvas().style.cursor="pointer"})),t.on("mouseleave","twitter",(function(){t.getCanvas().style.cursor=""}));case 15:case"end":return e.stop()}}),e)}))));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"map"}))}}]),a}(r.a.Component);a(357);function Ke(){return r.a.createElement(E,{framework:"mapbox",mapResolver:function(e){switch(e){case"1":return r.a.createElement(Ae,null);case"2":return r.a.createElement(Re,null);case"3":return r.a.createElement(Fe,null);case"4":return r.a.createElement(Ie,null);case"5":return r.a.createElement(Be,null);case"6":return r.a.createElement(ze,null);case"7":return r.a.createElement(Ne,null);default:return r.a.createElement(Ae,null)}}})}function Ge(){return r.a.createElement(s.a,{basename:"/geospatial-comparison"},r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/leaflet/:id",component:A}),r.a.createElement(c.a,{path:"/ol/:id",component:Ce}),r.a.createElement(c.a,{path:"/mapbox/:id",component:Ke}),r.a.createElement(c.a,{path:"/",component:_e})))}i.a.render(r.a.createElement(Ge,null),document.getElementById("root"))}},[[272,1,2]]]);
//# sourceMappingURL=main.4f0ffae5.chunk.js.map